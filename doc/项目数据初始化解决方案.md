# 项目数据初始化解决方案
## 概述
项目数据初始化包含三个部分：
>1. 第一次应用启动的原始数据初始化
>2. 比赛初始化时的，比赛模块数据的初始化
>3. 比赛的周期推进，需要将比赛每个模块的数据向下一个周期推进

在进行数据的初始化、周期推进的时候遇见以下几个问题：
>1. 由于整个应用的初始化数据十分的多，所以每个模块都是独立进行初始化（实现相同的接口）。不过由于各个模块
的原始数据之间存在依赖性，例如产品模块的原始数据会依赖材料模块的原始数据，所以在进行初始化时需要保证每个
模块在初始化前该模块的依赖模块必须已经初始化完成。
>2. 基于上面一个问题，模块之间拥有依赖性。如果使用前趋图的模式进行顺序化初始化将大大增加初始化的难度和复
杂度，所以需要通过某种方法来降低模块初始化对顺序的要求， 
>3. 由于模块之间的依赖性，如果模块之间循环依赖将有可能无法进行初始化，所以在进行初始化的时候必须严格要求
只有一个线程在初始化数据，多个线程之间初始化将造成循环引用的死锁。
>4. 由于每个模块单独初始化，那么有些总体操作将无法得到保障，例如每年的第一个周期如果没有完成广告模块将无
法推进到下一个周期，在比赛模块的初始化中也需要一个统筹的角色。

## 解决方案
针对上面的4个问题现实行如下策略进行解决：
>1. 统一初始化和推进的入口，使用该入口来统筹所有分散在各个模块中的操作。
>2. 统一的入口提供总体的进度信息，便于分布的各个模块可以获取全局的信息，感知其他模块的初始化信息，解决初
始化模块之间的依赖问题，降低初始化对顺序的严格要求，降低初始化的难度。